#  Лабораторная работа. Доступ к сетевым устройствам по протоколу SSH


###  Задание:

+ Часть 1. Настройка основных параметров устройства
+ Часть 2. Настройка маршрутизатора для доступа по протоколу SSH
+ Часть 3. Настройка коммутатора для доступа по протоколу SSH
+ Часть 4. SSH через интерфейс командной строки (CLI) коммутатора




### Топология:

![](./imgs/tp.png)

### Таблица адресации:

<table>
<tr>
<td>Устройство</td>
<td>Интерфейс</td>
<td>ip-адрес</td>
<td>Маска подсети</td>
<td>Шлюз по умолчанию</td>
</tr>
 <tr>
        <td>R1</td>
        <td>e0/1</td>
		<td>192.168.1.1</td>
		<td>255.255.255.0</td>
		<td>-</td>
    </tr>
	<tr>
        <td>S1</td>
        <td>VLAN 1</td>
		<td>192.168.1.11</td>
		<td>255.255.255.0</td>
		<td>192.168.1.1</td>
    </tr>
		<tr>
        <td>Linux</td>
        <td>NIC</td>
		<td>192.168.1.3</td>
		<td>255.255.255.0</td>
		<td>192.168.1.1</td>
    </tr>
</table>


Подключимся к коммутатору и маршрутизатору, перейдем в привилегированный режим и убедимся, что на устройствах находится пустой файл конфигурации (startup-config) по умолчанию.

![](./imgs/1.png)

Отключим поиск DNS, назначим пароль на режим enable, установим пароль для подключению через консольный порт, назначим пароль для подключения по линиям vty, ограничим подключение по ssh, включим шифрование паролей, установим баннер и настроим e0/1 интерфейс.

![](./imgs/2.png)

Сохраним конфиг.

![](./imgs/2.1.png)

Назначим адрес на наш Linux.

![](./imgs/3.png)

Включим ens3 интерфейс.

![](./imgs/3.1.png)

Пропингуем шлюз.

![](./imgs/4.png)

Назначим доменное имя маршрутизатору, поменятьем его имя, сгенерируем ssh ключ и установим версию ssh 2.

![](./imgs/5.png)

Создадим учетку с максимальными привилегиями.

![](./imgs/5.1.png)

Ограничим подключение к устройству на протоколах ssh и telnet. Сохраним конфиг.

![](./imgs/5.2.png)

Подключимся к шлюзу через ssh с нашего Linux.

![](./imgs/6.png)

Выполним все теже самые настройки на нашем коммутаторе.

![](./imgs/7.png)

Сохраним конфиг.

![](./imgs/7.1.png)

Назначим доменное имя коммутатору, поменяем его имя, сгенерируем ssh ключ и установим версию ssh 2. (я забыл указать версию ssh)

![](./imgs/7.2.png)

Подключимся к коммутатору через ssh с нашего Linux.

![](./imgs/7.3.png)

Проверим подключение через Ssh к коммутатору через наш маршрутизатор.

![](./imgs/8.png)